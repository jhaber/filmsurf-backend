var Search = require('./search').search;
var Retrieve = require('./movie').retrieve;

exports.bind = function(router) {
    router.get('/search', function (req, res) {
        Search(req.query, function (data) {
            res.json(200, data);
        });
    });

    router.get('/movie/:id', function (req, res) {
        req.query.id = req.params.id;
        Retrieve(req.query, function(data) {
            if (data) {
                res.json(200, data);
            } else {
                res.send(404);
            }
        });
    });
};