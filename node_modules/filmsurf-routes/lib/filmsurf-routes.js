var Movies = require('./movies');

exports.bind = function(router) {
    router.get('/search', function (req, res) {
        Movies.search(req.query, function (data) {
            res.json(200, data);
        });
    });

    router.get('/movie/:id', function (req, res) {
        var id = req.params.id;
        Movies.retrieve(id, function(data) {
            if (data) {
                res.json(200, data);
            } else {
                res.send(404);
            }
        });
    });
};