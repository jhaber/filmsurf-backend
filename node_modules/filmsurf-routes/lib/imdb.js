var Request = require('request');

var host = 'http://imdbapi.org';
var basePath = '/';

var retrievePath = host + basePath;

exports.retrieve = function (id, callback) {
    var request = {};
    request.url = retrievePath;
    request.qs = { 'id': 'tt' + id };
    request.json = true;

    Request.get(request, function (error, response, body) {
        if (!error && response && response.statusCode === 200) {
            callback(body);
        } else {
            if (error) {
                console.log('Error retrieving URL: ' + retrievePath + ', ' + error);
            }

            if (response && response.statusCode !== 200) {
                console.log('Status code retrieving URL: ' + retrievePath + ', ' + response.statusCode);
            }

            callback(undefined)
        }
    });
};